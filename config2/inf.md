–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ **–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏** –¥–ª—è **–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≥—Ä–∞—Ñ–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∫–æ–º–º–∏—Ç–æ–≤** –≤ **Git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **PlantUML**, –±–µ–∑ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö —Å—Ä–µ–¥—Å—Ç–≤ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ **Git** –∏ Python.

---

## **–û–ø–∏—Å–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞**
1. **–¶–µ–ª—å**: –°–æ–∑–¥–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏, –∫–æ—Ç–æ—Ä—ã–π:
   - –°—Ç—Ä–æ–∏—Ç –≥—Ä–∞—Ñ –∫–æ–º–º–∏—Ç–æ–≤ (–≤–∫–ª—é—á–∞—è —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏).
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç **PlantUML** –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –≥—Ä–∞—Ñ–∞.
   - –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –∫–æ–º–º–∏—Ç—ã –ø–æ –∑–∞–¥–∞–Ω–Ω–æ–π –¥–∞—Ç–µ.

2. **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**:
   - **Python**: –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ª–æ–≥–∏–∫–∏.
   - **Git**: –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –∫–æ–º–º–∏—Ç–æ–≤.
   - **PlantUML**: –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –≥—Ä–∞—Ñ–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

3. **–ê–ª–≥–æ—Ä–∏—Ç–º**:
   - –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∫–æ–º–º–∏—Ç–æ–≤ —Å –∏—Ö —Ö–µ—à–∞–º–∏ –∏ —Ä–æ–¥–∏—Ç–µ–ª—è–º–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫–æ–º–∞–Ω–¥—ã **`git rev-list`**.
   - –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∫–æ–º–º–∏—Ç—ã –ø–æ –¥–∞—Ç–µ.
   - –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É –∫–æ–º–º–∏—Ç–∞–º–∏.
   - –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å PlantUML-–∫–æ–¥ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≥—Ä–∞—Ñ–∞.

---

## **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**

### **–®–∞–≥ 1: –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–º–º–∏—Ç–æ–≤ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–∞ **`git rev-list`** –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–º–º–∏—Ç–æ–≤ –∏ –∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:

```bash
git rev-list --parents --before="YYYY-MM-DD" HEAD
```

- **`--parents`**: –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ –∫–æ–º–º–∏—Ç—ã.
- **`--before`**: —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –∫–æ–º–º–∏—Ç—ã –¥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –¥–∞—Ç—ã.
- –§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞:
  ```
  <commit_hash> <parent1> <parent2> ...
  ```

### **–®–∞–≥ 2: Python-—Å–∫—Ä–∏–ø—Ç**

–ù–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω Python-—Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç **PlantUML-–∫–æ–¥** –¥–ª—è –≥—Ä–∞—Ñ–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:

```python
import subprocess
import sys
import datetime

def get_commits(before_date):
    """
    –ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∫–æ–º–º–∏—Ç–æ–≤ –∏ –∏—Ö —Ä–æ–¥–∏—Ç–µ–ª–µ–π –¥–æ —É–∫–∞–∑–∞–Ω–Ω–æ–π –¥–∞—Ç—ã.
    """
    try:
        # –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã git –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–º–º–∏—Ç–æ–≤ –∏ –∏—Ö —Ä–æ–¥–∏—Ç–µ–ª–µ–π
        result = subprocess.check_output(
            ["git", "rev-list", "--parents", f"--before={before_date}", "HEAD"],
            text=True
        )
        return result.strip().split("\n")
    except subprocess.CalledProcessError as e:
        print(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ git: {e}")
        sys.exit(1)

def build_dependency_graph(commits):
    """
    –°—Ç—Ä–æ–∏—Ç –≥—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏–∑ —Å–ø–∏—Å–∫–∞ –∫–æ–º–º–∏—Ç–æ–≤.
    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—Å—Ç PlantUML.
    """
    plantuml_lines = ["@startuml", "skinparam linetype ortho"]

    # –£–∑–ª—ã –∏ —Å–≤—è–∑–∏
    for line in commits:
        parts = line.split()
        commit = parts[0]
        parents = parts[1:]

        # –î–æ–±–∞–≤–ª—è–µ–º —É–∑–µ–ª –¥–ª—è –∫–æ–º–º–∏—Ç–∞
        plantuml_lines.append(f'node "{commit}" as {commit}')

        # –î–æ–±–∞–≤–ª—è–µ–º —Å–≤—è–∑–∏ —Å —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–º–∏ –∫–æ–º–º–∏—Ç–∞–º–∏
        for parent in parents:
            plantuml_lines.append(f'{parent} --> {commit}')

    plantuml_lines.append("@enduml")
    return "\n".join(plantuml_lines)

def main():
    if len(sys.argv) != 2:
        print("–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: python3 git_dependency_visualizer.py <YYYY-MM-DD>")
        sys.exit(1)

    before_date = sys.argv[1]

    # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞—Ç—ã
    try:
        datetime.datetime.strptime(before_date, "%Y-%m-%d")
    except ValueError:
        print("–û—à–∏–±–∫–∞: –¥–∞—Ç–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ YYYY-MM-DD")
        sys.exit(1)

    # –ü–æ–ª—É—á–∞–µ–º –∫–æ–º–º–∏—Ç—ã –∏ —Å—Ç—Ä–æ–∏–º –≥—Ä–∞—Ñ
    print("–ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–º–º–∏—Ç–æ–≤ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è...")
    commits = get_commits(before_date)
    
    if not commits:
        print("–ù–µ—Ç –∫–æ–º–º–∏—Ç–æ–≤ –¥–æ —É–∫–∞–∑–∞–Ω–Ω–æ–π –¥–∞—Ç—ã.")
        sys.exit(0)

    print("–ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π...")
    plantuml_code = build_dependency_graph(commits)

    # –í—ã–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
    print("\n–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π PlantUML-–∫–æ–¥:")
    print(plantuml_code)

if __name__ == "__main__":
    main()
```

---

### **–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç**
1. **–ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–º–º–∏—Ç–æ–≤**:
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `git rev-list --parents --before=<–¥–∞—Ç–∞>` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–º–º–∏—Ç–æ–≤ –∏ –∏—Ö —Ä–æ–¥–∏—Ç–µ–ª–µ–π –¥–æ —É–∫–∞–∑–∞–Ω–Ω–æ–π –¥–∞—Ç—ã.
   - –ö–∞–∂–¥—ã–π –∫–æ–º–º–∏—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –∫–∞–∫: `<commit> <parent1> <parent2>`.

2. **–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ PlantUML**:
   - –ö–æ–º–º–∏—Ç—ã –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –∫–∞–∫ —É–∑–ª—ã.
   - –†–æ–¥–∏—Ç–µ–ª–∏ —Å–æ–µ–¥–∏–Ω—è—é—Ç—Å—è —Å—Ç—Ä–µ–ª–∫–∞–º–∏ `-->`, –ø–æ–∫–∞–∑—ã–≤–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å.

3. **–í—ã–≤–æ–¥**:
   - –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π **PlantUML-–∫–æ–¥** –≤—ã–≤–æ–¥–∏—Ç—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω.

---

### **–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**
1. –°–æ—Ö—Ä–∞–Ω–∏ –∫–æ–¥ –≤ —Ñ–∞–π–ª **`git_dependency_visualizer.py`**.
2. –ó–∞–ø—É—Å—Ç–∏ —Å–∫—Ä–∏–ø—Ç –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –≤ –∫–æ—Ä–Ω–µ Git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:

   ```bash
   python3 git_dependency_visualizer.py 2024-06-15
   ```

3. **–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞**:

   ```
   @startuml
   skinparam linetype ortho
   node "a1b2c3d" as a1b2c3d
   node "e4f5g6h" as e4f5g6h
   a1b2c3d --> e4f5g6h
   node "h7i8j9k" as h7i8j9k
   e4f5g6h --> h7i8j9k
   @enduml
   ```

4. –°–∫–æ–ø–∏—Ä—É–π –≤—ã–≤–æ–¥ –≤ **PlantUML Online** –∏–ª–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ:

   ```bash
   plantuml diagram.puml
   ```

---

### **–†–µ–∑—É–ª—å—Ç–∞—Ç**
–ù–∞ –≤—ã—Ö–æ–¥–µ –±—É–¥–µ—Ç **–≥—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∫–æ–º–º–∏—Ç–æ–≤**:
- –£–∑–ª—ã —Å–æ–¥–µ—Ä–∂–∞—Ç **—Ö–µ—à-–∑–Ω–∞—á–µ–Ω–∏—è** –∫–æ–º–º–∏—Ç–æ–≤.
- –°—Ç—Ä–µ–ª–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç **–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** –º–µ–∂–¥—É –∫–æ–º–º–∏—Ç–∞–º–∏.
- –ö–æ–º–º–∏—Ç—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã —É–∫–∞–∑–∞–Ω–Ω–æ–π –¥–∞—Ç–æ–π.

---

### **–ü—Ä–∏–º–µ—á–∞–Ω–∏—è**
1. **Git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**:
   - –ó–∞–ø—É—Å—Ç–∏ —Å–∫—Ä–∏–ø—Ç –≤ –∫–æ—Ä–Ω–µ **Git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**, –∏–Ω–∞—á–µ –∫–æ–º–∞–Ω–¥–∞ `git` –Ω–µ —Å–º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ –∏—Å—Ç–æ—Ä–∏—é –∫–æ–º–º–∏—Ç–æ–≤.

2. **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è**:
   - –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π **Git**.
   - Python 3.6+.

3. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è**:
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö –∫–æ–º–º–∏—Ç–æ–≤.
   - –¶–≤–µ—Ç–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –≤–µ—Ç–æ–∫ –∏–ª–∏ —Ç–∏–ø–æ–≤ –∫–æ–º–º–∏—Ç–æ–≤.

---

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –Ω–∞—Ö–æ–¥–∏—Ç –≤—Å–µ –∫–æ–º–º–∏—Ç—ã –¥–æ —É–∫–∞–∑–∞–Ω–Ω–æ–π –¥–∞—Ç—ã –∏ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ **PlantUML**. üöÄ

–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∏–ª–∏ –ø–æ—è—Å–Ω–µ–Ω–∏—è, –¥–∞–π –∑–Ω–∞—Ç—å! üòä